flows:
- name: render
  description: Render flow for GetCalFresh - verify page loads and no 502 errors
  steps:
  - description: Navigate to GetCalFresh homepage
    type: navigate
    url: https://www.getcalfresh.org
  - description: Wait for page to fully initialize and load
    duration: 5000
    type: wait
  - description: Screenshot of initial GetCalFresh page load
    filename: 01_initial_page.png
    type: screenshot
  - description: Check for any error messages, 502s, or failed loads
    error_selectors:
    - .error
    - .error-message
    - .alert-danger
    - .alert-error
    - '[class*="error"]'
    - '[class*="502"]'
    - .server-error
    - .gateway-error
    - .service-unavailable
    type: verify_no_errors
  - description: Wait for main GetCalFresh application container to load
    selector: 'body, main, .app, #root, [data-testid], .getcalfresh-app, .homepage,
      .main-content, .layout'
    timeout: 30000
    type: wait_for_selector
  - description: Verify GetCalFresh main interface elements are accessible and page
      rendered correctly
    selector: header, .header, nav, .navigation, .apply-button, .start-application,
      .homepage-content, .main-content, .layout, .app-content, [data-testid="apply-button"],
      [data-testid="homepage"], .benefits-form, .calfresh-info
    type: verify
    verify_type: element_exists
  - description: Final check for any error messages or server errors
    error_selectors:
    - .error
    - .error-message
    - .alert-danger
    - .alert-error
    - '[class*="error"]'
    - '[class*="502"]'
    - .server-error
    - .gateway-error
    - .service-unavailable
    - .http-error
    type: verify_no_errors
